
# Спецификация языка

## 1. Пример программы

```
// Пример программы

fn main() {
    let a;
    let b;

    input(a);
    input(b);

    let sum = a + b;

    print("sum");
}
```

## 2. Ключевые особенности языка
- Язык динамически типизированный — тип переменной определяется по значению.  
- Все переменные изменяемые (mutable).  
- Переменные объявляются через `let`.  
- Ввод и вывод реализуются встроенными функциями `input()` и `print()`.  
- Инструкции выполняются последовательно внутри функций.  
- Поддерживаются комментарии:  
  - Однострочные: `// ...`  
  - Многострочные: `/* ... */`  
- Каждая инструкция завершается точкой с запятой `;`.  
- Точка входа — функция `main()`. Выполнение программы начинается с неё.  
- Область видимости переменных ограничена телом функции или блока `{ ... }`.  
- Все функции объявляются до `main()` и обязательно возвращают значение.


## 3. Семантические правила
| Правило | Описание |
|---------|----------|
| Переменные должны быть объявлены перед использованием | `x = 10;` без `let` — ошибка |
| Повторное объявление переменной в одной области видимости запрещено | `let x = 1; let x = 2;` — ошибка |
| Имя переменной не может совпадать с ключевыми словами | `fn, let, print, input, return, main` — запрещено |
| Область видимости переменных ограничена блоком `{ ... }` | — |
| Функция `main()` обязательна | С неё начинается выполнение программы |
| Все функции возвращают значение | — |
| `Pi` и `Euler` — зарезервированные идентификаторы | — |
| Имена регистрозависимы | `count` ≠ `Count` |

## 4. Виды инструкций

В языке используются только полезные инструкции — те, которые выполняют действия (создают переменные, изменяют значения, выполняют ввод/вывод и т.д.).  
Бесполезные выражения запрещены:

```
x + 10;    // Ошибка — выражение ничего не делает
```

**Допустимые типы инструкций:**
| Тип | Пример | Назначение |
|-----|--------|------------|
| Объявление переменной | `let x = 10;` | Создаёт новую переменную (с возможным начальными значением) |
| Присваивание | `x = x + 1;` | Изменяет значение существующей переменной |
| Ввод | `input(x);` | Считывает значение с клавиатуры и сохраняет в переменную |
| Вывод | `print("x);` | Выводит  значения на экран |
| Возврат | `return x;` | Завершает выполнение функции, возвращая значение |

## 5. Структура программы

Программа состоит из набора определений функций, последнего определения — `main()`.

```
program = { function_definition }, entry_point ;
entry_point = "fn", "main", "(", ")", block ;
function_definition = "fn", identifier, "(", [ parameter_list ], ")", block ;
parameter_list = identifier, { ",", identifier } ;
block = "{", { statement }, "}" ;
```

## 6. Инструкции

```
statement =
variable_declaration, ";"
| assignment_statement, ";"
| function_call, ";"
| return_statement, ";"
;
```

### Объявление переменной

```
variable_declaration =
    "let", identifier, [ "=", expression ] ;
```

Создаёт новую переменную. Если указано выражение — оно вычисляется, и результат присваивается переменной.

### Присваивание

```
assignment_statement =
    identifier, "=", expression ;
```

Изменяет значение существующей переменной.
Присваивание не является выражением — это отдельная инструкция.
### Вызов функции


```
function_call = 
identifier, "(", [ argument_list ], ")" ;

argument_list = 
expression, { ",", expression } ;
```
Вызов функции — `identifier("(" [ arg_list ] ")" )`. `print(...)` и `input(...)` — встроенные функции, реализованные как обычные функции языка (вызов — свободен внутри `main` и других функций).

Примеры:

```
input(a); 
input(b);                  
print(a + b);
```

### Возврат из функции

```
return_statement =
    "return", [ expression ] ;
```
Все функции обязаны вернуть значение;

## 7. Выражения

Присваивание не является выражением, а только инструкцией.  
Примеры допустимых выражений:

```
a + b
(a - 3) * 2
"Hello, " + name
```

