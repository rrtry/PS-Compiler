
# Спецификация языка

## 1. Пример программы

```
// Пример программы

fn main() {
    let a;
    let b;

    read(a);
    read(b);

    let sum = a + b;

    print("sum");
}
```

## 2. Ключевые особенности языка

- Язык динамически типизированный — тип переменной определяется по значению.
- Все переменные изменяемые (mutable).
- Переменные объявляются через `let`.
- Ввод и вывод реализуются отдельными инструкциями `read()` и `print()`.
- Инструкции выполняются последовательно внутри `main()`.
- Поддерживаются комментарии:
  - Однострочные: `// ...`
  - Многострочные: `/* ... */`
- Каждая инструкция завершается точкой с запятой `;`.
- Точка входа — функция `main()`. Выполнение программы начинается с неё.
- Область видимости переменных ограничена телом функции или блока `{ ... }`.

## 3. Семантические правила

| Правило | Описание |
|---------|----------|
| Переменные должны быть объявлены перед использованием | `x = 10;` без `let` — ошибка |
| Повторное объявление переменной в одной области видимости запрещено | `let x = 1; let x = 2;` — ошибка |
| Имя переменной не может совпадать с ключевыми словами | `fn, let, print, read, return, main` — запрещено |
| Область видимости переменных ограничена блоком `{ ... }` | — |
| Функция `main()` обязательна | С неё начинается выполнение программы |

## 4. Виды инструкций

В языке используются только полезные инструкции — те, которые выполняют действия (создают переменные, изменяют значения, выполняют ввод/вывод и т.д.).  
Бесполезные выражения запрещены:

```
x + 10;    // Ошибка — выражение ничего не делает
```

**Допустимые типы инструкций:**
| Тип | Пример | Назначение |
|-----|--------|------------|
| Объявление переменной | `let x = 10;` | Создаёт новую переменную (с возможным начальными значением) |
| Присваивание | `x = x + 1;` | Изменяет значение существующей переменной |
| Ввод | `read(x);` | Считывает значение с клавиатуры и сохраняет в переменную |
| Вывод | `print("Result:", x);` | Выводит текст и/или значения на экран |
| Возврат | `return x;` | Завершает выполнение функции, возвращая значение |

## 5. Структура программы

Программа состоит из точки входа `main()`, внутри которой находятся инструкции.

```
program = entry_point ;

entry_point =
    "fn", "main", "(", ")", block ;

block =
    "{", { statement }, "}" ;
```

## 6. Инструкции

```
statement =
      variable_declaration, ";"
    | assignment_statement, ";"
    | io_statement, ";"
    | return_statement, ";"
    ;
```

### Объявление переменной

```
variable_declaration =
    "let", identifier, [ "=", expression ] ;
```

Создаёт новую переменную. Если указано выражение — оно вычисляется, и результат присваивается переменной.

### Присваивание

```
assignment_statement =
    identifier, "=", expression ;
```

Изменяет значение существующей переменной.

### Ввод и вывод

```
io_statement =
      "read", "(", identifier, ")"
    | "print", "(", print_arguments, ")" ;

print_arguments =
    expression, { ",", expression } ;
```

Примеры:

```
read(a); 
read(b);                   // ввод
print(a + b);       // вывод
```

### Возврат из функции

```
return_statement =
    "return", [ expression ] ;
```

## 7. Выражения

Присваивание не является выражением, а только инструкцией.  
Примеры допустимых выражений:

```
a + b
(a - 3) * 2
"Hello, " + name
```

