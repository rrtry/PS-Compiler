# Лексическая структура языка

## 1. Примеры кода

```
fn main() 
{
let a: int;
let b: int;
a = int(input());
b = int(input());
let sum = a + b;
print(sum);
}
```

## 2. Ключевые слова — зарезервированные токены, регистрозависимые. Их нельзя использовать как идентификаторы.


| Слово       | Предназначение                                  |
| ------------ | ------------------------------------------------ |
| `fn`         | Определение функции                             |
| `let`        | Объявление переменной                           |
| `return`     | Возврат значения из функции                     |
| `if`         | Условный оператор                               |
| `else`       | Альтернативный оператор                         |
| `while`      | Цикл с условием                                 |
| `for`        | Цикл по диапазону                               |
| `break`      | Прерывание цикла                                |
| `continue`   | Переход к следующей итерации цикла              |
| `true`       | Синтаксический сахар равен типу int со значением 1 |
| `false`      | Синтаксический сахар равен типу int со значением 0 |
| `print`      | Встроенная функция вывода                       |
| `input`      | Встроенная функция ввода                        |
| `concat`     | Встроенная функция для строк. Соединяет 2 строки в 1 |
| `substr`     | Встроенная функция для строк. Извлекает подстроку из строки |
| `int`        | Тип целого числа                                |
| `float`      | Тип числа с плавающей точкой                    |
| `string`     | Тип для строк                                   |
| `void`       | Тип для процедур (без возврата)                 |


## 3. Идентификаторы

**Идентификаторы** — это имена переменных, функций и пользовательских типов.  
**Регистрозависимые**: `count` ≠ `Count` (регистр важен).  

**Правила:**  
- Состоят из латинских букв (`a–z`, `A–Z`), цифр (`0–9`) и символа подчёркивания (`_`).  
- Первый символ — обязательно буква или `_`.  
- Регистрозависимы: count ≠ Count.
- Ключевые слова и зарезервированные имена нельзя использовать как идентификаторы.  

**Примеры допустимых идентификаторов:**
```
name, counter, _value, sumOfNumbers
```

**Недопустимые:**
```
1value, fn, while
```

## 4. Литералы

### 4.1. Литералы чисел

Поддерживаются:
- **Целые числа** (в десятичной, шестнадцатеричной и двоичной системах)
- **Числа с плавающей точкой**

**Примеры:**
```
42
0101010
0x2A
3.14
-0.5
```

**Правила:**
- Целые числа — последовательность цифр (`0–9`).
- Шестнадцатеричные начинаются с `0x` или `0X`.
- Двоичные — последовательность цифр (`0–1`).
- Числа с плавающей точкой содержат `.` .

### 4.2. Литералы строк

- Оформление: двойные кавычки `"..."`.
- Поддерживаются экранированные последовательности: `\n, \t и.т.п.`
- Хранение: `UTF-8`.
- Строки поддерживают подмножество Unicode

Примеры:

```
let a = "Hello";
let b = "Привет, мир\n";
let c = "Helloy: \t word";
```

**Использование строк:**

- допустимо в объявлении переменных типа string и при инициализации,
- допустимо как аргумент print(),
- допустимо в функциях concat() и substr(),
- недопустимо как операнд в арифметических выражениях (операторы + - * / % ^ и т.д.).


### 4.3. Константы
Зарезервированные идентификаторы:  
- `Pi` — 3.1415926535  
- `Euler` — 2.7182818284  

Эти имена распознаются лексером как специальные идентификаторы и не могут быть переопределены.

## 5. Операторы
| Оператор | Описание | Пример |
|----------|----------|--------|
| `=`      | Присваивание | `x = 5` |
| `+` `-` `*` `/` `%` | Арифметические операции | `a + b` |
| `^` `**` | Возведение в степень | `a ^ b` |
| `++` `--` | Инкремент / декремент | `i--`, `i++` |
| `==` `!=` | Сравнение на равенство | `x == y` |
| `<` `>` `<=` `>=` | Сравнение | `x < 10` |
| `&&` `||` `!` | Логические операции | `x && y`, `!flag` |

## 6. Прочие лексемы
| Лексема | Назначение |
|---------|------------|
| `{` `}` | Границы блока кода |
| `(` `)` | Скобки для выражений и вызовов функций |
| `,`     | Разделитель элементов |
| `;`     | Завершение инструкции |
| `:`      | Разделитель типа в объявлениях |

## 7. Комментарии
Комментарии — часть лексера. Лексер полностью игнорирует комментарии при разборе синтаксиса.  

Поддерживаются **однострочные** и **многострочные** комментарии.  

| Тип | Синтаксис | Пример |
|-----|-----------|--------|
| Однострочный | `//` до конца строки | `// Это комментарий` |
| Многострочный | `/* ... */` | `/* комментарий */` |

**Примеры:**
```
// Однострочный комментарий
/* Многострочный
   комментарий */
```

```ebnf
(* Идентификаторы *)
identifier      = letter, { letter | digit | "_" } ;

(* Лексические правила *)
digit           = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
letter          = "A" | "B" | ... | "Z" | "a" | ... | "z" ;
```
