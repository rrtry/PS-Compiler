# Грамматика выражений языка ----

----- — динамически типизированный язык программирования, сочетающий читаемость Python и структурность C-подобных языков.  
Данный документ описывает **грамматику выражений** в нотации **EBNF (ISO)**.

---

## 1. Синтаксис выражений
Выражения могут включать:  
- Числовые литералы (`42`, `3.14`, `0x2A`)  
- Арифметические операторы (`+`, `-`, `*`, `/`, `%`, `^`, `**`)  
- Унарные операторы (`+`, `-`, `!`, `++`, `--`)  
- Постфиксные операторы (`++`, `--`)  
- Логические операторы (`&&`, `||`, `!`)  
- Операторы сравнения (`==`, `!=`, `<`, `>`, `<=`, `>=`)  
- Встроенные функции для чисел (`abs(x)`, `pow(2, 10)`, `max(1, 2, 3)`)  
- Скобки для группировки (`(a + b) * c`)  
- Математические константы (`Pi`, `Euler`)  
- Переменные и идентификаторы (`x`, `y`, `total`)
- Логические литералы (`true = 1`, `false = 0`)
---

## 2. Арифметические операторы

| Символ | Операция                     | Ассоциативность |
| ------ | ---------------------------- | ---------------- |
| `+`    | Сложение или унарный плюс    | Левоассоциативный |
| `-`    | Вычитание или унарный минус  | Левоассоциативный |
| `*`    | Умножение                    | Левоассоциативный |
| `/`    | Деление                      | Левоассоциативный |
| `%`    | Остаток от деления           | Левоассоциативный |
| `^`    | Возведение в степень         | Правоассоциативный |
| `**`   | Возведение в степень         | Правоассоциативный |

---

## 3. Приоритет операторов
| Приоритет (от высшего к низшему) | Операторы |
|----------------------------------|-----------|
| 1 | Постфиксный `++` / `--` |
| 2 | Возведение в степень `^`, `**` |
| 3 | Унарные `+`, `-`, `!`, префиксные `++`, `--` |
| 4 | `*`, `/`, `%` |
| 5 | `+`, `-` |
| 6 | `<`, `>`, `<=`, `>=` |
| 7 | `==`, `!=` |
| 8 | `&&` |
| 9 | `||` |
| 10 | Вызовы функций, `()` |

## 4. Константы
Поддерживаются две математические константы:  
| Константа | Значение | Описание |
|-----------|----------|----------|
| `Pi`      | 3.1415926535 | Число π |
| `Euler`   | 2.7182818284 | Число Эйлера |

Константы рассматриваются как **зарезервированные идентификаторы**, а не функции.

---

## 5. Встроенные функции для чисел

| Функция | Описание |
| -------- | -------- |
| `abs(x)` | Возвращает модуль числа |
| `min(a, b, …)` | Возвращает минимальное из значений |
| `max(a, b, …)` | Возвращает максимальное из значений |
| `pow(x, y)` | Возведение в степень (эквивалент `x ** y`) |

---

## 6. Грамматика выражений (EBNF ISO)

Ниже представлена грамматика.

```ebnf

(* Основное выражение *)
expression     = logical_or ;

(* Логические операции*)
logical_or     = logical_and, { "||", logical_and } ;
logical_and    = equality, { "&&", equality } ;

(* Операции равенства и сравнения *)
equality       = relational, { ("==" | "!="), relational } ;
relational     = additive, { ("<" | ">" | "<=" | ">="), additive } ;

(* Арифметические операции *)
additive       = multiplicative, { ("+" | "-"), multiplicative } ;
multiplicative = unary, { ("*" | "/" | "%"), unary } ;

(* Унарные операции *)
unary          = { ("+" | "-" | "!" ) }, power ;

(* Постфиксные ++/-- и возведение в степень (правоассоциативно) *)
power          = postfix, { ("^" | "**"), power } ;
postfix        = primary, { "++" | "--" } ;

(* Первичные выражения *)
primary        = number
               | constant
               | identifier, [ "(", [ argument_list ], ")" ]   (* идентификатор или вызов функции *)
               | "(", expression, ")" ;

(* Вызов функции *)
argument_list  = expression, { ",", expression } ;

(* Константы и литералы *)
constant       = "Pi" | "Euler" ;
number         = integer | float ;
integer        = digit, { digit } ;
float          = integer, ".", integer ;

(* Лексические элементы *)
digit          = "0" | "1" | "2" | "3" | "4" | "5" | "6" | "7" | "8" | "9" ;
```
